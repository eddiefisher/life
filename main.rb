#!/usr/local/bin/ruby

require 'rubygems'
require 'bundler/setup'
require 'curses'
include Curses
Dir[File.dirname(__FILE__) + '/lib/*.rb'].each {|file| require file }

map = \
  "**.........................**\n" +
  ".*.........................*.\n" +
  ".*.*.......*.............*.*.\n" +
  "..**.....*..*.....*......**..\n" +
  "............*.....**.........\n" +
  "........*..........**........\n" +
  "........*...**....**.........\n" +
  ".........*****...............\n" +
  ".............................\n" +
  ".........*****...............\n" +
  "........*...**....**.........\n" +
  "........*..........**........\n" +
  "............*.....**.........\n" +
  "..**.....*..*.....*......**..\n" +
  ".*.*.......*.............*.*.\n" +
  ".*.........................*.\n" +
  "**.........................**\n"

world = World.new(map: map)
engine = Engine.new(world)
screen = Screen.new

world.draw(screen)

while true
  engine.next_generation
  world.draw(screen)
  sleep 0.1
end
